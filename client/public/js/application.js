"use strict";function loadJSON(e,t,n,o,a){var d=new XMLHttpRequest;d.open(t,window.location.origin+"/API/"+e,!0),d.setRequestHeader("Content-type","application/json"),d.send(JSON.stringify(n)),d.onreadystatechange=function(){if(4===d.readyState&&200===d.status){var e=JSON.parse(d.responseText);o(e.data)}else a()}}function generateGraph(e,t){setLoading(!0),loadJSON("nlp","POST",{dataset:e,input:t},function(e){Plotly.newPlot("graph",e),setLoading(!1)},function(){setLoading(!1)})}function setLoading(e){document.getElementById("command-textfield").disabled=e;var t=document.getElementById("command-button"),n=document.getElementById("command-loading");e?(t.style.display="none",n.style.display="block"):(t.style.display="block",n.style.display="none")}window.onload=function(){document.getElementById("menu-button").addEventListener("click",function(){document.querySelector(".mdl-layout__drawer").classList.toggle("is-expanded"),setTimeout(function(){Plotly.Plots.resize("graph")},300)},!1);var e=document.getElementById("command-textfield");e.addEventListener("keyup",function(t){"Enter"===t.key&&generateGraph("human_resources__core_dataset",e.value)}),document.getElementById("command-button").addEventListener("click",function(t){generateGraph("human_resources__core_dataset",e.value)})},window.onresize=function(){Plotly.Plots.resize("graph")};